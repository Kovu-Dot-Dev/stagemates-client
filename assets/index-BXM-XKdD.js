import{b as R,d as Is,r as l,j as e,e as Ke,P as _,f as mt,g as J,c as T,L as Xe,h as ze,i as ve,k as F,l as I,m as Ze,n as pt,o as xt,R as ht,p as ft,q as gt,F as vt,D as yt,s as _s,B as L,u as Ts,t as jt,v as Ms,w as Ds,x as As,A as Rs,y as Nt,z as Ps,V as Es,C as Ls,E as Os}from"./index-07sRAbZx.js";import{u as wt,B as E,m as bt}from"./Badge-CvvukjF6.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zs=R("arrow-left",Hs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],St=R("calendar",Fs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vs=R("check",Bs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ct=R("chevron-down",Ws);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Js=R("chevron-right",$s);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qs=R("chevron-up",Gs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ks=R("clock",Us);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kt=R("map-pin",Xs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Fe=R("message-circle",Zs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],nt=R("music-2",Ys);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Be=R("plus",Qs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],tn=R("reply",en);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nn=R("search",sn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],on=R("send",an);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ln=R("share-2",rn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dn=R("user-plus",cn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ve=R("users",un);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pn=R("x",mn);var Le={exports:{}},Oe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at;function xn(){if(at)return Oe;at=1;var t=Is();function s(v,N){return v===N&&(v!==0||1/v===1/N)||v!==v&&N!==N}var n=typeof Object.is=="function"?Object.is:s,a=t.useState,o=t.useEffect,i=t.useLayoutEffect,u=t.useDebugValue;function c(v,N){var y=N(),b=a({inst:{value:y,getSnapshot:N}}),x=b[0].inst,d=b[1];return i(function(){x.value=y,x.getSnapshot=N,m(x)&&d({inst:x})},[v,y,N]),o(function(){return m(x)&&d({inst:x}),v(function(){m(x)&&d({inst:x})})},[v]),u(y),y}function m(v){var N=v.getSnapshot;v=v.value;try{var y=N();return!n(v,y)}catch{return!0}}function r(v,N){return N()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:c;return Oe.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Oe}var ot;function hn(){return ot||(ot=1,Le.exports=xn()),Le.exports}var fn=hn();function gn(){return fn.useSyncExternalStore(vn,()=>!0,()=>!1)}function vn(){return()=>{}}var Ye="Avatar",[yn]=Ke(Ye),[jn,It]=yn(Ye),_t=l.forwardRef((t,s)=>{const{__scopeAvatar:n,...a}=t,[o,i]=l.useState("idle");return e.jsx(jn,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:e.jsx(_.span,{...a,ref:s})})});_t.displayName=Ye;var Tt="AvatarImage",Mt=l.forwardRef((t,s)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:o=()=>{},...i}=t,u=It(Tt,n),c=Nn(a,i),m=mt(r=>{o(r),u.onImageLoadingStatusChange(r)});return J(()=>{c!=="idle"&&m(c)},[c,m]),c==="loaded"?e.jsx(_.img,{...i,ref:s,src:a}):null});Mt.displayName=Tt;var Dt="AvatarFallback",At=l.forwardRef((t,s)=>{const{__scopeAvatar:n,delayMs:a,...o}=t,i=It(Dt,n),[u,c]=l.useState(a===void 0);return l.useEffect(()=>{if(a!==void 0){const m=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(m)}},[a]),u&&i.imageLoadingStatus!=="loaded"?e.jsx(_.span,{...o,ref:s}):null});At.displayName=Dt;function rt(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nn(t,{referrerPolicy:s,crossOrigin:n}){const a=gn(),o=l.useRef(null),i=a?(o.current||(o.current=new window.Image),o.current):null,[u,c]=l.useState(()=>rt(i,t));return J(()=>{c(rt(i,t))},[i,t]),J(()=>{const m=v=>()=>{c(v)};if(!i)return;const r=m("loaded"),f=m("error");return i.addEventListener("load",r),i.addEventListener("error",f),s&&(i.referrerPolicy=s),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",r),i.removeEventListener("error",f)}},[i,n,s]),u}var wn=_t,bn=Mt,Sn=At;function me({className:t,...s}){return e.jsx(wn,{"data-slot":"avatar",className:T("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function pe({className:t,...s}){return e.jsx(bn,{"data-slot":"avatar-image",className:T("aspect-square size-full",t),...s})}function xe({className:t,...s}){return e.jsx(Sn,{"data-slot":"avatar-fallback",className:T("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}function He({src:t,fallback:s,className:n,onClick:a,route:o}){return e.jsx(Xe,{to:o,children:e.jsxs(me,{className:`${n} ${a?"cursor-pointer hover:opacity-80 transition-opacity":""}`,onClick:a,children:[e.jsx(pe,{src:t}),e.jsx(xe,{children:s})]})})}const Rt=[{id:"1",title:"Sunday Jazz Jam",description:"Relaxed jazz session in downtown. All skill levels welcome! We'll have a piano and drum kit available.",host:{id:"host1",name:"Marcus Williams",bio:"",location:"Seattle, WA",instruments:["Piano","Keyboard"],genres:["Jazz"],skillLevel:"Advanced",lookingFor:[],image:"https://images.unsplash.com/photo-1681070907979-33fb54f56c53?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMG1hbiUyMG11c2ljaWFuJTIwcGlhbm98ZW58MXx8fHwxNzU4MDA3ODg1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},date:"2025-01-19",time:"14:00",location:"Blue Note Cafe",address:"1234 Jazz Street, Seattle, WA 98101",maxParticipants:6,currentParticipants:3,genres:["Jazz","Blues"],skillLevel:"All Levels",type:"open",participants:[{id:"p1",name:"Emma Thompson",bio:"",location:"Seattle, WA",instruments:["Saxophone"],genres:["Jazz"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1755389176283-3cd924205df0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMHZpb2xpbmlzdCUyMG11c2ljaWFufGVufDF8fHx8MTc1ODAwODMyM3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"p2",name:"David Lee",bio:"",location:"Seattle, WA",instruments:["Drums"],genres:["Jazz"],skillLevel:"Advanced",lookingFor:[],image:"https://images.unsplash.com/photo-1719043108436-2ec4f31f1d3e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMGRydW1tZXIlMjBwZXJjdXNzaW9ufGVufDF8fHx8MTc1ODAwODIxMXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"}],setlist:[{id:"s1",title:"Autumn Leaves",artist:"Les Paul",genre:"Jazz",difficulty:"Medium",duration:5,key:"Gm",suggestedBy:"Marcus Williams"},{id:"s2",title:"Blue Bossa",artist:"Kenny Dorham",genre:"Jazz",difficulty:"Medium",duration:6,key:"Cm",suggestedBy:"Emma Thompson"}],neededInstruments:["Bass","Trumpet"],equipment:["Piano","Drum Kit","PA System","Microphones"],price:15,discussion:[{id:"t1",author:{id:"host1",name:"Marcus Williams",bio:"",location:"Seattle, WA",instruments:["Piano","Keyboard"],genres:["Jazz"],skillLevel:"Advanced",lookingFor:[],image:"https://images.unsplash.com/photo-1681070907979-33fb54f56c53?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMG1hbiUyMG11c2ljaWFuJTIwcGlhbm98ZW58MXx8fHwxNzU4MDA3ODg1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},content:"Hey everyone! Really excited for this session. The venue has a beautiful Steinway grand piano, so we should be able to get some amazing sounds. Looking forward to seeing what everyone brings to the table!",timestamp:"2025-01-18T10:30:00Z",replies:[{id:"r1",author:{id:"p1",name:"Emma Thompson",bio:"",location:"Seattle, WA",instruments:["Saxophone"],genres:["Jazz"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1755389176283-3cd924205df0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMHZpb2xpbmlzdCUyMG11c2ljaWFufGVufDF8fHx8MTc1ODAwODMyM3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},content:"That sounds fantastic! I'll bring my tenor sax. Should I prepare anything specific for Autumn Leaves?",timestamp:"2025-01-18T11:15:00Z"}]},{id:"t2",author:{id:"p2",name:"David Lee",bio:"",location:"Seattle, WA",instruments:["Drums"],genres:["Jazz"],skillLevel:"Advanced",lookingFor:[],image:"https://images.unsplash.com/photo-1719043108436-2ec4f31f1d3e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMGRydW1tZXIlMjBwZXJjdXNzaW9ufGVufDF8fHx8MTc1ODAwODIxMXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},content:"Quick question about parking - is there street parking available or should I look for a garage nearby?",timestamp:"2025-01-18T14:20:00Z",replies:[]}]},{id:"2",title:"Rock Band Practice",description:"Looking for a bassist and drummer to complete our indie rock band. We have original songs ready to jam!",host:{id:"host2",name:"Sarah Miller",bio:"",location:"Austin, TX",instruments:["Guitar","Vocals"],genres:["Rock"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1588374481268-6cf95436cde2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZSUyMHdvbWFuJTIwc2luZ2VyJTIwc29uZ3dyaXRlcnxlbnwxfHx8fDE3NTgwMDgyMDd8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},date:"2025-01-20",time:"19:00",location:"Rehearsal Space",address:"5678 Music Row, Austin, TX 78701",maxParticipants:4,currentParticipants:2,genres:["Rock","Indie","Alternative"],skillLevel:"Intermediate",type:"open",participants:[{id:"p3",name:"Mike Johnson",bio:"",location:"Austin, TX",instruments:["Guitar"],genres:["Rock"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1594116558587-a9a952fe609a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMG11c2ljaWFuJTIwZ3VpdGFyaXN0fGVufDF8fHx8MTc1ODAwODIwNHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"}],setlist:[{id:"s3",title:"Midnight City",artist:"Original",genre:"Indie Rock",difficulty:"Hard",duration:4,key:"Em",suggestedBy:"Sarah Miller"}],neededInstruments:["Bass","Drums"],equipment:["Amplifiers","Microphones"],notes:"We have 3 original songs to work through. Looking for committed musicians for potential band formation.",discussion:[{id:"t3",author:{id:"host2",name:"Sarah Miller",bio:"",location:"Austin, TX",instruments:["Guitar","Vocals"],genres:["Rock"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1588374481268-6cf95436cde2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZSUyMHdvbWFuJTIwc2luZ2VyJTIwc29uZ3dyaXRlcnxlbnwxfHx8fDE3NTgwMDgyMDd8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},content:"I can send chord charts and lyric sheets before the session if anyone's interested! Also, we're hoping to record a demo after a few practice sessions if the chemistry is right.",timestamp:"2025-01-19T09:45:00Z",replies:[]}]},{id:"3",title:"Acoustic Songwriting Circle",description:"Bring your original songs or covers! We'll share, collaborate, and maybe create something new together.",host:{id:"host3",name:"Jamie Foster",bio:"",location:"Nashville, TN",instruments:["Guitar","Vocals"],genres:["Folk"],skillLevel:"Intermediate",lookingFor:[],image:"https://images.unsplash.com/photo-1645162711239-f4a4925d3cdd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx5b3VuZyUyMG11c2ljaWFuJTIwa2V5Ym9hcmQlMjBwcm9kdWNlcnxlbnwxfHx8fDE3NTgwMDgyMTR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},date:"2025-01-21",time:"18:30",location:"Community Center",address:"910 Music Valley Dr, Nashville, TN 37214",maxParticipants:8,currentParticipants:5,genres:["Folk","Indie","Country"],skillLevel:"All Levels",type:"open",participants:[{id:"p4",name:"Alex Rivera",bio:"",location:"Nashville, TN",instruments:["Mandolin"],genres:["Folk"],skillLevel:"Intermediate",lookingFor:[]},{id:"p5",name:"Kelly Smith",bio:"",location:"Nashville, TN",instruments:["Violin"],genres:["Folk"],skillLevel:"Advanced",lookingFor:[]},{id:"p6",name:"Ryan Davis",bio:"",location:"Nashville, TN",instruments:["Harmonica"],genres:["Folk"],skillLevel:"Beginner",lookingFor:[]},{id:"p7",name:"Taylor Wilson",bio:"",location:"Nashville, TN",instruments:["Bass"],genres:["Folk"],skillLevel:"Intermediate",lookingFor:[]}],setlist:[],neededInstruments:["Banjo","Cajon"],equipment:["Acoustic Amplifier","Microphones"],notes:"Bring your own acoustic instruments. We'll have coffee and snacks available.",discussion:[]}],Cn=t=>{if(!t)throw new Error("id is required");return Rt.find(s=>s.id===t)},kn=(t,s)=>wt({queryKey:["jam",t],queryFn:()=>Cn(t),enabled:!!t,...s});function ie({className:t,...s}){return e.jsx("div",{"data-slot":"card",className:T("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function he({className:t,...s}){return e.jsx("div",{"data-slot":"card-header",className:T("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function fe({className:t,...s}){return e.jsx("div",{"data-slot":"card-title",className:T("leading-none font-semibold",t),...s})}function ge({className:t,...s}){return e.jsx("div",{"data-slot":"card-content",className:T("px-6",t),...s})}var ke="Dialog",[Pt]=Ke(ke),[In,G]=Pt(ke),Et=t=>{const{__scopeDialog:s,children:n,open:a,defaultOpen:o,onOpenChange:i,modal:u=!0}=t,c=l.useRef(null),m=l.useRef(null),[r,f]=ze({prop:a,defaultProp:o??!1,onChange:i,caller:ke});return e.jsx(In,{scope:s,triggerRef:c,contentRef:m,contentId:ve(),titleId:ve(),descriptionId:ve(),open:r,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(v=>!v),[f]),modal:u,children:n})};Et.displayName=ke;var Lt="DialogTrigger",Ot=l.forwardRef((t,s)=>{const{__scopeDialog:n,...a}=t,o=G(Lt,n),i=F(s,o.triggerRef);return e.jsx(_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":tt(o.open),...a,ref:i,onClick:I(t.onClick,o.onOpenToggle)})});Ot.displayName=Lt;var Qe="DialogPortal",[_n,Ht]=Pt(Qe,{forceMount:void 0}),zt=t=>{const{__scopeDialog:s,forceMount:n,children:a,container:o}=t,i=G(Qe,s);return e.jsx(_n,{scope:s,forceMount:n,children:l.Children.map(a,u=>e.jsx(Ze,{present:n||i.open,children:e.jsx(pt,{asChild:!0,container:o,children:u})}))})};zt.displayName=Qe;var Se="DialogOverlay",Ft=l.forwardRef((t,s)=>{const n=Ht(Se,t.__scopeDialog),{forceMount:a=n.forceMount,...o}=t,i=G(Se,t.__scopeDialog);return i.modal?e.jsx(Ze,{present:a||i.open,children:e.jsx(Mn,{...o,ref:s})}):null});Ft.displayName=Se;var Tn=ft("DialogOverlay.RemoveScroll"),Mn=l.forwardRef((t,s)=>{const{__scopeDialog:n,...a}=t,o=G(Se,n);return e.jsx(ht,{as:Tn,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(_.div,{"data-state":tt(o.open),...a,ref:s,style:{pointerEvents:"auto",...a.style}})})}),le="DialogContent",Bt=l.forwardRef((t,s)=>{const n=Ht(le,t.__scopeDialog),{forceMount:a=n.forceMount,...o}=t,i=G(le,t.__scopeDialog);return e.jsx(Ze,{present:a||i.open,children:i.modal?e.jsx(Dn,{...o,ref:s}):e.jsx(An,{...o,ref:s})})});Bt.displayName=le;var Dn=l.forwardRef((t,s)=>{const n=G(le,t.__scopeDialog),a=l.useRef(null),o=F(s,n.contentRef,a);return l.useEffect(()=>{const i=a.current;if(i)return xt(i)},[]),e.jsx(Vt,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:I(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:I(t.onPointerDownOutside,i=>{const u=i.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&i.preventDefault()}),onFocusOutside:I(t.onFocusOutside,i=>i.preventDefault())})}),An=l.forwardRef((t,s)=>{const n=G(le,t.__scopeDialog),a=l.useRef(!1),o=l.useRef(!1);return e.jsx(Vt,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||n.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=i.target;n.triggerRef.current?.contains(u)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Vt=l.forwardRef((t,s)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,...u}=t,c=G(le,n),m=l.useRef(null),r=F(s,m);return gt(),e.jsxs(e.Fragment,{children:[e.jsx(vt,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:i,children:e.jsx(yt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":tt(c.open),...u,ref:r,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Pn,{titleId:c.titleId}),e.jsx(Ln,{contentRef:m,descriptionId:c.descriptionId})]})]})}),et="DialogTitle",Wt=l.forwardRef((t,s)=>{const{__scopeDialog:n,...a}=t,o=G(et,n);return e.jsx(_.h2,{id:o.titleId,...a,ref:s})});Wt.displayName=et;var $t="DialogDescription",Rn=l.forwardRef((t,s)=>{const{__scopeDialog:n,...a}=t,o=G($t,n);return e.jsx(_.p,{id:o.descriptionId,...a,ref:s})});Rn.displayName=$t;var Jt="DialogClose",Gt=l.forwardRef((t,s)=>{const{__scopeDialog:n,...a}=t,o=G(Jt,n);return e.jsx(_.button,{type:"button",...a,ref:s,onClick:I(t.onClick,()=>o.onOpenChange(!1))})});Gt.displayName=Jt;function tt(t){return t?"open":"closed"}var qt="DialogTitleWarning",[La,Ut]=_s(qt,{contentName:le,titleName:et,docsSlug:"dialog"}),Pn=({titleId:t})=>{const s=Ut(qt),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},En="DialogDescriptionWarning",Ln=({contentRef:t,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ut(En).contentName}}.`;return l.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");s&&o&&(document.getElementById(s)||console.warn(a))},[a,t,s]),null},On=Et,Hn=Ot,zn=zt,Fn=Ft,Bn=Bt,Vn=Wt,Wn=Gt;function Kt({...t}){return e.jsx(On,{"data-slot":"dialog",...t})}function Xt({...t}){return e.jsx(Hn,{"data-slot":"dialog-trigger",...t})}function $n({...t}){return e.jsx(zn,{"data-slot":"dialog-portal",...t})}function Jn({className:t,...s}){return e.jsx(Fn,{"data-slot":"dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function Zt({className:t,children:s,showCloseButton:n=!0,...a}){return e.jsxs($n,{"data-slot":"dialog-portal",children:[e.jsx(Jn,{}),e.jsxs(Bn,{"data-slot":"dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a,children:[s,n&&e.jsxs(Wn,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(pn,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Yt({className:t,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",t),...s})}function Qt({className:t,...s}){return e.jsx(Vn,{"data-slot":"dialog-title",className:T("text-lg leading-none font-semibold",t),...s})}function V({className:t,type:s,...n}){return e.jsx("input",{type:s,"data-slot":"input",className:T("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Gn="Label",es=l.forwardRef((t,s)=>e.jsx(_.label,{...t,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));es.displayName=Gn;var qn=es;function W({className:t,...s}){return e.jsx(qn,{"data-slot":"label",className:T("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function We({className:t,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:T("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}function Un({jamId:t,currentUser:s,threads:n,onAddThread:a,onAddReply:o,isHost:i,isParticipant:u}){const[c,m]=l.useState(""),[r,f]=l.useState({}),[v,N]=l.useState(null),y=i||u,b=()=>{c.trim()&&y&&(a(c.trim()),m(""))},x=p=>{const g=r[p];g?.trim()&&y&&(o(p,g.trim()),f(w=>({...w,[p]:""})),N(null))},d=p=>{const g=new Date(p),H=new Date().getTime()-g.getTime(),P=Math.floor(H/(1e3*60*60)),q=Math.floor(P/24);if(q>0)return`${q}d ago`;if(P>0)return`${P}h ago`;{const M=Math.floor(H/6e4);return M>0?`${M}m ago`:"Just now"}};return e.jsxs(ie,{children:[e.jsxs(he,{children:[e.jsxs(fe,{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsxs("span",{children:["Discussion (",n.length,")"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Open discussion for all participants - ask questions, share updates, and coordinate details"})]}),e.jsxs(ge,{className:"space-y-6",children:[y&&e.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(me,{className:"w-8 h-8",children:[e.jsx(pe,{src:s.image}),e.jsx(xe,{children:s.name.charAt(0)})]}),e.jsx("span",{className:"font-medium",children:s.name}),i&&e.jsx(E,{variant:"default",className:"text-xs",children:"Host"})]}),e.jsx(We,{value:c,onChange:p=>m(p.target.value),placeholder:"Start a discussion, ask a question, or share an update...",rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(L,{onClick:b,disabled:!c.trim(),size:"sm",children:[e.jsx(on,{className:"w-4 h-4 mr-2"}),"Post"]})})]}),!y&&e.jsx("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Join this jam session to participate in the discussion"})}),e.jsx("div",{className:"space-y-6",children:n.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Fe,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No discussions yet"}),e.jsx("p",{className:"text-sm",children:"Be the first to start a conversation!"})]}):n.map(p=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(me,{className:"w-10 h-10",children:[e.jsx(pe,{src:p.author.image}),e.jsx(xe,{children:p.author.name.charAt(0)})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:p.author.name}),p.author.id===s.id&&e.jsx(E,{variant:"outline",className:"text-xs",children:"You"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:d(p.timestamp)})]}),e.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:p.content})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[y&&e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>N(v===p.id?null:p.id),children:[e.jsx(tn,{className:"w-4 h-4 mr-1"}),"Reply"]}),p.replies.length>0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.replies.length," ",p.replies.length===1?"reply":"replies"]})]})]})]}),p.replies.length>0&&e.jsx("div",{className:"ml-13 space-y-3 border-l-2 border-muted pl-4",children:p.replies.map(g=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(me,{className:"w-8 h-8",children:[e.jsx(pe,{src:g.author.image}),e.jsx(xe,{children:g.author.name.charAt(0)})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:g.author.name}),g.author.id===s.id&&e.jsx(E,{variant:"outline",className:"text-xs",children:"You"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:d(g.timestamp)})]}),e.jsx("div",{className:"bg-muted/30 rounded-lg p-3",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.content})})]})]},g.id))}),v===p.id&&y&&e.jsx("div",{className:"ml-13 space-y-3 border-l-2 border-muted pl-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(me,{className:"w-8 h-8",children:[e.jsx(pe,{src:s.image}),e.jsx(xe,{children:s.name.charAt(0)})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:s.name}),i&&e.jsx(E,{variant:"default",className:"text-xs",children:"Host"})]}),e.jsx(We,{value:r[p.id]||"",onChange:g=>f(w=>({...w,[p.id]:g.target.value})),placeholder:"Write a reply...",rows:2}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:()=>N(null),children:"Cancel"}),e.jsx(L,{onClick:()=>x(p.id),disabled:!r[p.id]?.trim(),size:"sm",children:"Reply"})]})]})]})})]},p.id))})]})]})}function Oa({currentUser:t=bt[0],onBack:s=()=>{},onJoinJam:n=()=>{},onLeaveJam:a=()=>{},onAddSong:o=()=>{},onAddThread:i=()=>{},onAddReply:u=()=>{},onViewProfile:c=()=>{}}){const{id:m}=Ts(),{data:r,isLoading:f}=kn(m),[v,N]=l.useState(!1),[y,b]=l.useState({difficulty:"Medium"});if(f)return null;if(!r)return"No Jam found";const x=r.participants.some(h=>h.id===t.id),d=r.host.id===t.id,p=r.currentParticipants>=r.maxParticipants,g=r.maxParticipants-r.currentParticipants,w=()=>{y.title&&y.artist&&(o(r.id,{title:y.title,artist:y.artist,genre:y.genre||"",difficulty:y.difficulty||"Medium",duration:y.duration,key:y.key}),N(!1),b({difficulty:"Medium"}))},H=h=>{i(r.id,h)},P=(h,S)=>{u(r.id,h,S)},q=h=>new Date(h).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),M=h=>{const[S,X]=h.split(":"),B=new Date;return B.setHours(parseInt(S),parseInt(X)),B.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return e.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Xe,{to:"/jams",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:s,children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Back to Jams"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{variant:r.type==="open"?"default":"secondary",children:r.type==="open"?"Open Session":"Private Session"}),e.jsx(E,{variant:"outline",children:r.skillLevel})]})]}),e.jsxs(ie,{children:[e.jsx(he,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{className:"text-2xl",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[e.jsx(He,{route:"/profiles/u1",src:r.host.image,fallback:r.host.name.charAt(0),className:"w-8 h-8",onClick:()=>c(r.host.id)}),e.jsxs("span",{children:["Hosted by"," ",e.jsx("button",{onClick:()=>c(r.host.id),className:"text-foreground hover:text-primary transition-colors underline",children:r.host.name})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),"Share"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Message Host"]})]})]})}),e.jsxs(ge,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:r.description}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(St,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:q(r.date)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ks,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:M(r.time)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kt,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.location}),r.address&&e.jsx("p",{className:"text-sm text-muted-foreground",children:r.address})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Genres"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.genres.map(h=>e.jsx(E,{variant:"outline",children:h},h))})]}),r.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Additional Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.notes})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(ie,{children:[e.jsx(he,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"w-5 h-5"}),e.jsxs("span",{children:["Participants (",r.currentParticipants,"/",r.maxParticipants,")"]})]}),!p&&!x&&e.jsxs(L,{size:"sm",onClick:()=>n(r),children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"Join"]}),x&&!d&&e.jsx(L,{size:"sm",variant:"outline",onClick:()=>a(r),children:"Leave"})]})}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-primary/10 rounded-lg cursor-pointer hover:bg-primary/15 transition-colors",onClick:()=>c(r.host.id),children:[e.jsx(He,{route:"/profiles/u2",src:r.host.image,fallback:r.host.name.charAt(0),className:"w-10 h-10",onClick:()=>c(r.host.id)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium hover:text-primary",children:r.host.name}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[r.host.instruments?.map(h=>e.jsx(E,{variant:"secondary",className:"text-xs",children:h},h)),e.jsx(E,{className:"text-xs",children:"Host"})]})]})]}),r.participants.map(h=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>c(h.id),children:[e.jsx(He,{route:"/profiles/u3",src:h.image,fallback:h.name.charAt(0),className:"w-10 h-10",onClick:()=>c(h.id)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium hover:text-primary",children:h.name}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h?.instruments?.map(S=>e.jsx(E,{variant:"secondary",className:"text-xs",children:S},S))})]})]},h.id)),r.neededInstruments.length>0&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h5",{className:"text-sm font-medium mb-2",children:"Still Looking For:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.neededInstruments.map(h=>e.jsx(E,{variant:"outline",className:"text-xs",children:h},h))})]}),g>0&&e.jsx("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[g," ",g===1?"spot":"spots"," remaining"]})})]})]}),e.jsxs(ie,{children:[e.jsx(he,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{className:"flex items-center space-x-2",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsxs("span",{children:["Setlist (",r.setlist.length," songs)"]})]}),(x||d)&&e.jsxs(Kt,{open:v,onOpenChange:N,children:[e.jsx(Xt,{asChild:!0,children:e.jsxs(L,{size:"sm",variant:"outline",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Add Song"]})}),e.jsxs(Zt,{children:[e.jsx(Yt,{children:e.jsx(Qt,{children:"Add Song to Setlist"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"song-title",children:"Song Title"}),e.jsx(V,{id:"song-title",value:y.title||"",onChange:h=>b(S=>({...S,title:h.target.value})),placeholder:"Song name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"song-artist",children:"Artist"}),e.jsx(V,{id:"song-artist",value:y.artist||"",onChange:h=>b(S=>({...S,artist:h.target.value})),placeholder:"Artist name"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"song-key",children:"Key"}),e.jsx(V,{id:"song-key",value:y.key||"",onChange:h=>b(S=>({...S,key:h.target.value})),placeholder:"C, Dm, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"song-genre",children:"Genre"}),e.jsx(V,{id:"song-genre",value:y.genre||"",onChange:h=>b(S=>({...S,genre:h.target.value})),placeholder:"Rock, Jazz, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"song-duration",children:"Duration (min)"}),e.jsx(V,{id:"song-duration",type:"number",value:y.duration||"",onChange:h=>b(S=>({...S,duration:parseInt(h.target.value)})),placeholder:"4"})]})]}),e.jsx(L,{onClick:w,className:"w-full",children:"Add to Setlist"})]})]})]})]})}),e.jsx(ge,{children:r.setlist.length===0?e.jsxs("div",{className:"text-center p-6 text-muted-foreground",children:[e.jsx(nt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No songs in the setlist yet"}),e.jsx("p",{className:"text-sm",children:"Be the first to suggest a song!"})]}):e.jsxs("div",{className:"space-y-3",children:[r.setlist.map((h,S)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium",children:S+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:h.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",h.artist,h.key&&` • Key: ${h.key}`,h.duration&&` • ${h.duration}min`]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx(E,{variant:"outline",className:"text-xs",children:h.difficulty}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",h.suggestedBy]})]})]},h.id)),e.jsxs("div",{className:"text-center pt-2 text-sm text-muted-foreground",children:["Total duration: ",r.setlist.reduce((h,S)=>h+(S.duration||0),0)," ","minutes"]})]})})]})]}),(r.equipment||r.price)&&e.jsxs(ie,{children:[e.jsx(he,{children:e.jsx(fe,{children:"Additional Information"})}),e.jsxs(ge,{className:"space-y-4",children:[r.equipment&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Available Equipment"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.equipment.map(h=>e.jsx(E,{variant:"secondary",children:h},h))})]}),r.price&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Cost"}),e.jsxs("p",{className:"text-lg font-medium",children:["$",r.price," per person"]})]})]})]}),e.jsx(Un,{jamId:r.id,currentUser:t,threads:r.discussion||[],onAddThread:H,onAddReply:P,isHost:d,isParticipant:x})]})}const Kn=()=>Rt,Xn=t=>wt({queryKey:["jams"],queryFn:()=>Kn(),...t});function it(t,[s,n]){return Math.min(n,Math.max(s,t))}var Zn=[" ","Enter","ArrowUp","ArrowDown"],Yn=[" ","Enter"],ce="Select",[Ie,_e,Qn]=As(ce),[ye]=Ke(ce,[Qn,jt]),Te=jt(),[ea,ne]=ye(ce),[ta,sa]=ye(ce),ts=t=>{const{__scopeSelect:s,children:n,open:a,defaultOpen:o,onOpenChange:i,value:u,defaultValue:c,onValueChange:m,dir:r,name:f,autoComplete:v,disabled:N,required:y,form:b}=t,x=Te(s),[d,p]=l.useState(null),[g,w]=l.useState(null),[H,P]=l.useState(!1),q=Ms(r),[M,h]=ze({prop:a,defaultProp:o??!1,onChange:i,caller:ce}),[S,X]=ze({prop:u,defaultProp:c,onChange:m,caller:ce}),B=l.useRef(null),Z=d?b||!!d.closest("form"):!0,[te,Y]=l.useState(new Set),Q=Array.from(te).map(O=>O.props.value).join(";");return e.jsx(Ds,{...x,children:e.jsxs(ea,{required:y,scope:s,trigger:d,onTriggerChange:p,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:H,onValueNodeHasChildrenChange:P,contentId:ve(),value:S,onValueChange:X,open:M,onOpenChange:h,dir:q,triggerPointerDownPosRef:B,disabled:N,children:[e.jsx(Ie.Provider,{scope:s,children:e.jsx(ta,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(O=>{Y(U=>new Set(U).add(O))},[]),onNativeOptionRemove:l.useCallback(O=>{Y(U=>{const ee=new Set(U);return ee.delete(O),ee})},[]),children:n})}),Z?e.jsxs(bs,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:v,value:S,onChange:O=>X(O.target.value),disabled:N,form:b,children:[S===void 0?e.jsx("option",{value:""}):null,Array.from(te)]},Q):null]})})};ts.displayName=ce;var ss="SelectTrigger",ns=l.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:a=!1,...o}=t,i=Te(n),u=ne(ss,n),c=u.disabled||a,m=F(s,u.onTriggerChange),r=_e(n),f=l.useRef("touch"),[v,N,y]=Cs(x=>{const d=r().filter(w=>!w.disabled),p=d.find(w=>w.value===u.value),g=ks(d,x,p);g!==void 0&&u.onValueChange(g.value)}),b=x=>{c||(u.onOpenChange(!0),y()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(Rs,{asChild:!0,...i,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ss(u.value)?"":void 0,...o,ref:m,onClick:I(o.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&b(x)}),onPointerDown:I(o.onPointerDown,x=>{f.current=x.pointerType;const d=x.target;d.hasPointerCapture(x.pointerId)&&d.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:I(o.onKeyDown,x=>{const d=v.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&N(x.key),!(d&&x.key===" ")&&Zn.includes(x.key)&&(b(),x.preventDefault())})})})});ns.displayName=ss;var as="SelectValue",os=l.forwardRef((t,s)=>{const{__scopeSelect:n,className:a,style:o,children:i,placeholder:u="",...c}=t,m=ne(as,n),{onValueNodeHasChildrenChange:r}=m,f=i!==void 0,v=F(s,m.onValueNodeChange);return J(()=>{r(f)},[r,f]),e.jsx(_.span,{...c,ref:v,style:{pointerEvents:"none"},children:Ss(m.value)?e.jsx(e.Fragment,{children:u}):i})});os.displayName=as;var na="SelectIcon",rs=l.forwardRef((t,s)=>{const{__scopeSelect:n,children:a,...o}=t;return e.jsx(_.span,{"aria-hidden":!0,...o,ref:s,children:a||"▼"})});rs.displayName=na;var aa="SelectPortal",is=t=>e.jsx(pt,{asChild:!0,...t});is.displayName=aa;var de="SelectContent",ls=l.forwardRef((t,s)=>{const n=ne(de,t.__scopeSelect),[a,o]=l.useState();if(J(()=>{o(new DocumentFragment)},[]),!n.open){const i=a;return i?Nt.createPortal(e.jsx(cs,{scope:t.__scopeSelect,children:e.jsx(Ie.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(ds,{...t,ref:s})});ls.displayName=de;var $=10,[cs,ae]=ye(de),oa="SelectContentImpl",ra=ft("SelectContent.RemoveScroll"),ds=l.forwardRef((t,s)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:u,side:c,sideOffset:m,align:r,alignOffset:f,arrowPadding:v,collisionBoundary:N,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:d,...p}=t,g=ne(de,n),[w,H]=l.useState(null),[P,q]=l.useState(null),M=F(s,j=>H(j)),[h,S]=l.useState(null),[X,B]=l.useState(null),Z=_e(n),[te,Y]=l.useState(!1),Q=l.useRef(!1);l.useEffect(()=>{if(w)return xt(w)},[w]),gt();const O=l.useCallback(j=>{const[D,...z]=Z().map(A=>A.ref.current),[C]=z.slice(-1),k=document.activeElement;for(const A of j)if(A===k||(A?.scrollIntoView({block:"nearest"}),A===D&&P&&(P.scrollTop=0),A===C&&P&&(P.scrollTop=P.scrollHeight),A?.focus(),document.activeElement!==k))return},[Z,P]),U=l.useCallback(()=>O([h,w]),[O,h,w]);l.useEffect(()=>{te&&U()},[te,U]);const{onOpenChange:ee,triggerPointerDownPosRef:se}=g;l.useEffect(()=>{if(w){let j={x:0,y:0};const D=C=>{j={x:Math.abs(Math.round(C.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(C.pageY)-(se.current?.y??0))}},z=C=>{j.x<=10&&j.y<=10?C.preventDefault():w.contains(C.target)||ee(!1),document.removeEventListener("pointermove",D),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",z,{capture:!0})}}},[w,ee,se]),l.useEffect(()=>{const j=()=>ee(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[ee]);const[Me,we]=Cs(j=>{const D=Z().filter(k=>!k.disabled),z=D.find(k=>k.ref.current===document.activeElement),C=ks(D,j,z);C&&setTimeout(()=>C.ref.current.focus())}),De=l.useCallback((j,D,z)=>{const C=!Q.current&&!z;(g.value!==void 0&&g.value===D||C)&&(S(j),C&&(Q.current=!0))},[g.value]),Ae=l.useCallback(()=>w?.focus(),[w]),ue=l.useCallback((j,D,z)=>{const C=!Q.current&&!z;(g.value!==void 0&&g.value===D||C)&&B(j)},[g.value]),be=a==="popper"?$e:us,je=be===$e?{side:c,sideOffset:m,align:r,alignOffset:f,arrowPadding:v,collisionBoundary:N,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:d}:{};return e.jsx(cs,{scope:n,content:w,viewport:P,onViewportChange:q,itemRefCallback:De,selectedItem:h,onItemLeave:Ae,itemTextRefCallback:ue,focusSelectedItem:U,selectedItemText:X,position:a,isPositioned:te,searchRef:Me,children:e.jsx(ht,{as:ra,allowPinchZoom:!0,children:e.jsx(vt,{asChild:!0,trapped:g.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:I(o,j=>{g.trigger?.focus({preventScroll:!0}),j.preventDefault()}),children:e.jsx(yt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(be,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:j=>j.preventDefault(),...p,...je,onPlaced:()=>Y(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:I(p.onKeyDown,j=>{const D=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!D&&j.key.length===1&&we(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let C=Z().filter(k=>!k.disabled).map(k=>k.ref.current);if(["ArrowUp","End"].includes(j.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const k=j.target,A=C.indexOf(k);C=C.slice(A+1)}setTimeout(()=>O(C)),j.preventDefault()}})})})})})})});ds.displayName=oa;var ia="SelectItemAlignedPosition",us=l.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:a,...o}=t,i=ne(de,n),u=ae(de,n),[c,m]=l.useState(null),[r,f]=l.useState(null),v=F(s,M=>f(M)),N=_e(n),y=l.useRef(!1),b=l.useRef(!0),{viewport:x,selectedItem:d,selectedItemText:p,focusSelectedItem:g}=u,w=l.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&r&&x&&d&&p){const M=i.trigger.getBoundingClientRect(),h=r.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),X=p.getBoundingClientRect();if(i.dir!=="rtl"){const k=X.left-h.left,A=S.left-k,oe=M.left-A,re=M.width+oe,Re=Math.max(re,h.width),Pe=window.innerWidth-$,Ee=it(A,[$,Math.max($,Pe-Re)]);c.style.minWidth=re+"px",c.style.left=Ee+"px"}else{const k=h.right-X.right,A=window.innerWidth-S.right-k,oe=window.innerWidth-M.right-A,re=M.width+oe,Re=Math.max(re,h.width),Pe=window.innerWidth-$,Ee=it(A,[$,Math.max($,Pe-Re)]);c.style.minWidth=re+"px",c.style.right=Ee+"px"}const B=N(),Z=window.innerHeight-$*2,te=x.scrollHeight,Y=window.getComputedStyle(r),Q=parseInt(Y.borderTopWidth,10),O=parseInt(Y.paddingTop,10),U=parseInt(Y.borderBottomWidth,10),ee=parseInt(Y.paddingBottom,10),se=Q+O+te+ee+U,Me=Math.min(d.offsetHeight*5,se),we=window.getComputedStyle(x),De=parseInt(we.paddingTop,10),Ae=parseInt(we.paddingBottom,10),ue=M.top+M.height/2-$,be=Z-ue,je=d.offsetHeight/2,j=d.offsetTop+je,D=Q+O+j,z=se-D;if(D<=ue){const k=B.length>0&&d===B[B.length-1].ref.current;c.style.bottom="0px";const A=r.clientHeight-x.offsetTop-x.offsetHeight,oe=Math.max(be,je+(k?Ae:0)+A+U),re=D+oe;c.style.height=re+"px"}else{const k=B.length>0&&d===B[0].ref.current;c.style.top="0px";const oe=Math.max(ue,Q+x.offsetTop+(k?De:0)+je)+z;c.style.height=oe+"px",x.scrollTop=D-ue+x.offsetTop}c.style.margin=`${$}px 0`,c.style.minHeight=Me+"px",c.style.maxHeight=Z+"px",a?.(),requestAnimationFrame(()=>y.current=!0)}},[N,i.trigger,i.valueNode,c,r,x,d,p,i.dir,a]);J(()=>w(),[w]);const[H,P]=l.useState();J(()=>{r&&P(window.getComputedStyle(r).zIndex)},[r]);const q=l.useCallback(M=>{M&&b.current===!0&&(w(),g?.(),b.current=!1)},[w,g]);return e.jsx(ca,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:q,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:e.jsx(_.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});us.displayName=ia;var la="SelectPopperPosition",$e=l.forwardRef((t,s)=>{const{__scopeSelect:n,align:a="start",collisionPadding:o=$,...i}=t,u=Te(n);return e.jsx(Ls,{...u,...i,ref:s,align:a,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$e.displayName=la;var[ca,st]=ye(de,{}),Je="SelectViewport",ms=l.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:a,...o}=t,i=ae(Je,n),u=st(Je,n),c=F(s,i.onViewportChange),m=l.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Ie.Slot,{scope:n,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:I(o.onScroll,r=>{const f=r.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:N}=u;if(N?.current&&v){const y=Math.abs(m.current-f.scrollTop);if(y>0){const b=window.innerHeight-$*2,x=parseFloat(v.style.minHeight),d=parseFloat(v.style.height),p=Math.max(x,d);if(p<b){const g=p+y,w=Math.min(b,g),H=g-w;v.style.height=w+"px",v.style.bottom==="0px"&&(f.scrollTop=H>0?H:0,v.style.justifyContent="flex-end")}}}m.current=f.scrollTop})})})]})});ms.displayName=Je;var ps="SelectGroup",[da,ua]=ye(ps),ma=l.forwardRef((t,s)=>{const{__scopeSelect:n,...a}=t,o=ve();return e.jsx(da,{scope:n,id:o,children:e.jsx(_.div,{role:"group","aria-labelledby":o,...a,ref:s})})});ma.displayName=ps;var xs="SelectLabel",pa=l.forwardRef((t,s)=>{const{__scopeSelect:n,...a}=t,o=ua(xs,n);return e.jsx(_.div,{id:o.id,...a,ref:s})});pa.displayName=xs;var Ce="SelectItem",[xa,hs]=ye(Ce),fs=l.forwardRef((t,s)=>{const{__scopeSelect:n,value:a,disabled:o=!1,textValue:i,...u}=t,c=ne(Ce,n),m=ae(Ce,n),r=c.value===a,[f,v]=l.useState(i??""),[N,y]=l.useState(!1),b=F(s,g=>m.itemRefCallback?.(g,a,o)),x=ve(),d=l.useRef("touch"),p=()=>{o||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(xa,{scope:n,value:a,disabled:o,textId:x,isSelected:r,onItemTextChange:l.useCallback(g=>{v(w=>w||(g?.textContent??"").trim())},[]),children:e.jsx(Ie.ItemSlot,{scope:n,value:a,disabled:o,textValue:f,children:e.jsx(_.div,{role:"option","aria-labelledby":x,"data-highlighted":N?"":void 0,"aria-selected":r&&N,"data-state":r?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:b,onFocus:I(u.onFocus,()=>y(!0)),onBlur:I(u.onBlur,()=>y(!1)),onClick:I(u.onClick,()=>{d.current!=="mouse"&&p()}),onPointerUp:I(u.onPointerUp,()=>{d.current==="mouse"&&p()}),onPointerDown:I(u.onPointerDown,g=>{d.current=g.pointerType}),onPointerMove:I(u.onPointerMove,g=>{d.current=g.pointerType,o?m.onItemLeave?.():d.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(u.onPointerLeave,g=>{g.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:I(u.onKeyDown,g=>{m.searchRef?.current!==""&&g.key===" "||(Yn.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});fs.displayName=Ce;var Ne="SelectItemText",gs=l.forwardRef((t,s)=>{const{__scopeSelect:n,className:a,style:o,...i}=t,u=ne(Ne,n),c=ae(Ne,n),m=hs(Ne,n),r=sa(Ne,n),[f,v]=l.useState(null),N=F(s,p=>v(p),m.onItemTextChange,p=>c.itemTextRefCallback?.(p,m.value,m.disabled)),y=f?.textContent,b=l.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:y},m.value),[m.disabled,m.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:d}=r;return J(()=>(x(b),()=>d(b)),[x,d,b]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:m.textId,...i,ref:N}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Nt.createPortal(i.children,u.valueNode):null]})});gs.displayName=Ne;var vs="SelectItemIndicator",ys=l.forwardRef((t,s)=>{const{__scopeSelect:n,...a}=t;return hs(vs,n).isSelected?e.jsx(_.span,{"aria-hidden":!0,...a,ref:s}):null});ys.displayName=vs;var Ge="SelectScrollUpButton",js=l.forwardRef((t,s)=>{const n=ae(Ge,t.__scopeSelect),a=st(Ge,t.__scopeSelect),[o,i]=l.useState(!1),u=F(s,a.onScrollButtonChange);return J(()=>{if(n.viewport&&n.isPositioned){let c=function(){const r=m.scrollTop>0;i(r)};const m=n.viewport;return c(),m.addEventListener("scroll",c),()=>m.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?e.jsx(ws,{...t,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:m}=n;c&&m&&(c.scrollTop=c.scrollTop-m.offsetHeight)}}):null});js.displayName=Ge;var qe="SelectScrollDownButton",Ns=l.forwardRef((t,s)=>{const n=ae(qe,t.__scopeSelect),a=st(qe,t.__scopeSelect),[o,i]=l.useState(!1),u=F(s,a.onScrollButtonChange);return J(()=>{if(n.viewport&&n.isPositioned){let c=function(){const r=m.scrollHeight-m.clientHeight,f=Math.ceil(m.scrollTop)<r;i(f)};const m=n.viewport;return c(),m.addEventListener("scroll",c),()=>m.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?e.jsx(ws,{...t,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:m}=n;c&&m&&(c.scrollTop=c.scrollTop+m.offsetHeight)}}):null});Ns.displayName=qe;var ws=l.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:a,...o}=t,i=ae("SelectScrollButton",n),u=l.useRef(null),c=_e(n),m=l.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return l.useEffect(()=>()=>m(),[m]),J(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(_.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:I(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:I(o.onPointerMove,()=>{i.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:I(o.onPointerLeave,()=>{m()})})}),ha="SelectSeparator",fa=l.forwardRef((t,s)=>{const{__scopeSelect:n,...a}=t;return e.jsx(_.div,{"aria-hidden":!0,...a,ref:s})});fa.displayName=ha;var Ue="SelectArrow",ga=l.forwardRef((t,s)=>{const{__scopeSelect:n,...a}=t,o=Te(n),i=ne(Ue,n),u=ae(Ue,n);return i.open&&u.position==="popper"?e.jsx(Os,{...o,...a,ref:s}):null});ga.displayName=Ue;var va="SelectBubbleInput",bs=l.forwardRef(({__scopeSelect:t,value:s,...n},a)=>{const o=l.useRef(null),i=F(a,o),u=Ps(s);return l.useEffect(()=>{const c=o.current;if(!c)return;const m=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==s&&f){const v=new Event("change",{bubbles:!0});f.call(c,s),c.dispatchEvent(v)}},[u,s]),e.jsx(_.select,{...n,style:{...Es,...n.style},ref:i,defaultValue:s})});bs.displayName=va;function Ss(t){return t===""||t===void 0}function Cs(t){const s=mt(t),n=l.useRef(""),a=l.useRef(0),o=l.useCallback(u=>{const c=n.current+u;s(c),(function m(r){n.current=r,window.clearTimeout(a.current),r!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(c)},[s]),i=l.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,o,i]}function ks(t,s,n){const o=s.length>1&&Array.from(s).every(r=>r===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let u=ya(t,Math.max(i,0));o.length===1&&(u=u.filter(r=>r!==n));const m=u.find(r=>r.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function ya(t,s){return t.map((n,a)=>t[(s+a)%t.length])}var ja=ts,Na=ns,wa=os,ba=rs,Sa=is,Ca=ls,ka=ms,Ia=fs,_a=gs,Ta=ys,Ma=js,Da=Ns;function lt({...t}){return e.jsx(ja,{"data-slot":"select",...t})}function ct({...t}){return e.jsx(wa,{"data-slot":"select-value",...t})}function dt({className:t,size:s="default",children:n,...a}){return e.jsxs(Na,{"data-slot":"select-trigger","data-size":s,className:T("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[n,e.jsx(ba,{asChild:!0,children:e.jsx(Ct,{className:"size-4 opacity-50"})})]})}function ut({className:t,children:s,position:n="popper",...a}){return e.jsx(Sa,{children:e.jsxs(Ca,{"data-slot":"select-content",className:T("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(Aa,{}),e.jsx(ka,{className:T("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Ra,{})]})})}function K({className:t,children:s,...n}){return e.jsxs(Ia,{"data-slot":"select-item",className:T("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ta,{children:e.jsx(Vs,{className:"size-4"})})}),e.jsx(_a,{children:s})]})}function Aa({className:t,...s}){return e.jsx(Ma,{"data-slot":"select-scroll-up-button",className:T("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(qs,{className:"size-4"})})}function Ra({className:t,...s}){return e.jsx(Da,{"data-slot":"select-scroll-down-button",className:T("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ct,{className:"size-4"})})}function Ha({currentUser:t=bt[0],onCreateJam:s=()=>{}}){const[n,a]=l.useState(""),[o,i]=l.useState(""),[u,c]=l.useState(""),[m,r]=l.useState(!1),[f,v]=l.useState({genres:[],type:"open",maxParticipants:4}),{data:N,isLoading:y}=Xn();if(y)return null;if(!N)return"No jam sessions found";const b=N.filter(d=>{const p=d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()),g=!o||d.genres.includes(o),w=!u||d.date===u;return p&&g&&w}),x=()=>{f.title&&f.date&&f.time&&f.location&&(s({title:f.title,description:f.description||"",date:f.date,time:f.time,location:f.location,maxParticipants:f.maxParticipants||4,currentParticipants:1,genres:f.genres||[],skillLevel:f.skillLevel||"All Levels",type:f.type||"open",setlist:[],neededInstruments:[]}),r(!1),v({genres:[],type:"open",maxParticipants:4}))};return e.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{children:"Discover Jam Sessions"}),e.jsxs(Kt,{open:m,onOpenChange:r,children:[e.jsx(Xt,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Create Jam"]})}),e.jsxs(Zt,{className:"max-w-md",children:[e.jsx(Yt,{children:e.jsx(Qt,{children:"Create New Jam Session"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-title",children:"Session Title"}),e.jsx(V,{id:"jam-title",value:f.title||"",onChange:d=>v(p=>({...p,title:d.target.value})),placeholder:"Sunday Jazz Jam"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-description",children:"Description"}),e.jsx(We,{id:"jam-description",value:f.description||"",onChange:d=>v(p=>({...p,description:d.target.value})),placeholder:"Tell musicians what to expect...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-date",children:"Date"}),e.jsx(V,{id:"jam-date",type:"date",value:f.date||"",onChange:d=>v(p=>({...p,date:d.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-time",children:"Time"}),e.jsx(V,{id:"jam-time",type:"time",value:f.time||"",onChange:d=>v(p=>({...p,time:d.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-location",children:"Location"}),e.jsx(V,{id:"jam-location",value:f.location||"",onChange:d=>v(p=>({...p,location:d.target.value})),placeholder:"Venue name and address"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-participants",children:"Max Participants"}),e.jsx(V,{id:"jam-participants",type:"number",min:"2",max:"20",value:f.maxParticipants||4,onChange:d=>v(p=>({...p,maxParticipants:parseInt(d.target.value)}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"jam-skill",children:"Skill Level"}),e.jsxs(lt,{value:f.skillLevel,onValueChange:d=>v(p=>({...p,skillLevel:d})),children:[e.jsx(dt,{children:e.jsx(ct,{placeholder:"All Levels"})}),e.jsxs(ut,{children:[e.jsx(K,{value:"All Levels",children:"All Levels"}),e.jsx(K,{value:"Beginner",children:"Beginner"}),e.jsx(K,{value:"Intermediate",children:"Intermediate"}),e.jsx(K,{value:"Advanced",children:"Advanced"})]})]})]})]}),e.jsx(L,{onClick:x,className:"w-full",children:"Create Jam Session"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(V,{placeholder:"Search jam sessions...",value:n,onChange:d=>a(d.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(lt,{value:o||"all",onValueChange:d=>i(d==="all"?"":d),children:[e.jsx(dt,{className:"w-[140px]",children:e.jsx(ct,{placeholder:"All Genres"})}),e.jsxs(ut,{children:[e.jsx(K,{value:"all",children:"All Genres"}),e.jsx(K,{value:"Jazz",children:"Jazz"}),e.jsx(K,{value:"Rock",children:"Rock"}),e.jsx(K,{value:"Folk",children:"Folk"}),e.jsx(K,{value:"Blues",children:"Blues"}),e.jsx(K,{value:"Indie",children:"Indie"})]})]}),e.jsx(V,{type:"date",value:u,onChange:d=>c(d.target.value),className:"w-[160px]"})]})]})]}),e.jsxs("div",{className:"grid gap-4",children:[b.map(d=>e.jsx(Xe,{to:`/jams/${d.id}`,className:"block",children:e.jsxs(ie,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx(he,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fe,{className:"text-lg",children:d.title}),e.jsx(Js,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[e.jsxs(me,{className:"w-6 h-6 mr-2",children:[e.jsx(pe,{src:d.host.image}),e.jsx(xe,{className:"text-xs",children:d.host.name.charAt(0)})]}),"Hosted by ",d.host.name]})]}),e.jsx(E,{variant:d.type==="open"?"default":"secondary",children:d.type==="open"?"Open":"Private"})]})}),e.jsxs(ge,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(St,{className:"w-4 h-4 mr-1"}),new Date(d.date).toLocaleDateString()," at ",d.time]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"w-4 h-4 mr-1"}),d.location]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"w-4 h-4 mr-1"}),d.currentParticipants,"/",d.maxParticipants," participants"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.genres.map(p=>e.jsx(E,{variant:"outline",className:"text-xs",children:p},p)),e.jsx(E,{variant:"secondary",className:"text-xs",children:d.skillLevel})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.maxParticipants-d.currentParticipants," spots left",d.setlist.length>0&&` • ${d.setlist.length} songs planned`]}),e.jsx(L,{onClick:p=>{p.stopPropagation()},disabled:d.currentParticipants>=d.maxParticipants,size:"sm",children:d.currentParticipants>=d.maxParticipants?"Full":"Join"})]})]})]})},d.id)),b.length===0&&e.jsxs(ie,{className:"p-8 text-center",children:[e.jsx(Ve,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"mb-2",children:"No jam sessions found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search filters or create a new jam session."}),e.jsxs(L,{onClick:()=>r(!0),children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Create Your First Jam"]})]})]})]})}export{Oa as JamDetails,Ha as JamDiscovery};
